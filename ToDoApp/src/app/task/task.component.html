<nav class="navbar navbar-dark bg-dark fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">ToDoApp</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar" aria-labelledby="offcanvasDarkNavbarLabel">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">Dark offcanvas</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
          <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Link</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Dropdown
              </a>
              <ul class="dropdown-menu dropdown-menu-dark">
                <li><a class="dropdown-item" href="#">Action</a></li>
                <li><a class="dropdown-item" href="#">Another action</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="#">Something else here</a></li>
              </ul>
            </li>
          </ul>
          <form class="d-flex mt-3" role="search">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-success" type="submit">Search</button>
          </form>
        </div>
      </div>
    </div>
  </nav>
<h1>Task Component</h1>
<p>tasks tab works!</p>

<!-- Form to get the details of the new task to be created -->

<h1>Add Tasks</h1>

<form  [formGroup] = "formData" (ngSubmit) = "createTasks(formData.value)" class="row g-3">
    <div class="col-md-4">
      <label for="Name" class="form-label">Task Name</label>
      <input type="text" formControlName = "name" class="form-control" id="taskName" >
    </div>
    <div class="col-md-1">
      <label for="priority" class="form-label">Priority</label>
      <select id="priority" formControlName = "priority" class="form-select" >
        <option selected>0</option>
        <option>1</option>
        <option>2</option>
        <option>3</option>
      </select>
   </div>
    <div class="col-md-4">
        <label for="Type" class="form-label">Type</label>
        <input type="text" formControlName = "type" class="form-control" id="type" >
    </div>
    <div class="col-md-4">
      <label for="PercentageCompleted" class="form-label">PercentageCompleted</label>
      <input type="text" formControlName = "percentageCompleted" class="form-control" id="PercentageCompleted" >
  </div>
    <div class="col-md-4">
        <label for="Description" class="form-label">Description</label>
        <input type="text" formControlName = "description" class="form-control" id="description" >
    </div>
    <div class="col-md-2">
        <label for="startDate" class="form-label">StartDate</label>
        <input type="date" class="form-control" formControlName = "startDate" id="startDate" >
    </div>
    <div class="col-md-2">
        <label for="endDate" class="form-label">EndDate</label>
        <input type="date" class="form-control" formControlName = "endDate" id="endDate" >
    </div>

    <!-- <div class="col-md-2">
    <ngx-colors
    ngx-colors-trigger
    style="display: inline-block; margin:5px;"
    formControlName="color"
  ></ngx-colors>
  </div> -->

    <div class="col-12">
      <input type = "submit" class="btn btn-primary" value = "Submit">
    </div>
  </form>


  <h4>Total task count <h2>{{tasks.length}}</h2></h4>
<!-- Table to display the details of the Tasks -->
<table class="table table-bordered">
    <thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">TaskName</th>
            <th scope="col">Priority</th>
            <th scope="col">Type</th>
            <th scope="col">PercentageCompleted</th>
            <th scope="col">Description</th>
            <th scope="col">StartDate</th>
            <th scope="col">EndDate</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let task of tasks">
            <th scope="row">{{task.id}}</th>
            <td>{{task.name}}</td>
            <td>{{task.priority}}</td>
            <td>{{task.type}}</td>
            <td>{{task.percentageCompleted}}</td>
            <td>{{task.description}}</td>
            <td>{{task.startDate}}</td>
            <td>{{task.endDate}}</td>
            <td>
              <button type="button" class="btn btn-danger btn-sm" (click)="deleteTask(task.id)">Delete</button>
            </td>
        </tr>
    </tbody>
</table>

<button type="button" class="btn btn-danger btn-sm" (click)="getTasks()">GetTasks</button>


<ngx-charts-pie-chart
  [view]="view"
  [scheme]="colorScheme"
  [results]="chartData"
  [gradient]="gradient"
  [legend]="showLegend"
  [legendPosition]="legendPosition"
  [labels]="showLabels"
  [doughnut]="isDoughnut"
  (select)="onSelect($event)"
  (activate)="onActivate($event)"
  (deactivate)="onDeactivate($event)"
  >
</ngx-charts-pie-chart>